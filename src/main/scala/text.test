
Issues

Non-existent genre throws exception instead of returning empty
Can't inject book db for testing
getBooksForGenre throws an exception when it shouldn't
getBooksForGenre function doesn't work (book genre comparison is bad)
    - pointless map
    - pointless check
    - string returned nowhere
    - poor name for 'o'
    - mutability
    - return statement


getAuthorTotalPages
- repeated code from getBooksByGenre
- author db call  is bad (uses the id get function, but passes name string)
- same issues of

Repeated code
Too many 'primitives' string params - introduce classes (extra points for value class / opaque type)

addBook can add a book where the author doesn't exist

Book and Author are linked by author name, should be by author id

- Mutability (outside db)
- All 1 file